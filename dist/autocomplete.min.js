/**
 * @checkit/ck-autocomplete v1.0.0 (https://github.com/elektron-technology/ck-autocomplete)
 * Copyright 2017 Application Team (checkit.net)
 * Licensed under MIT
 */
!function(){"use strict";function e(e,t,n,l,i){function o(e){e?t.$broadcast("angucomplete-alt:clearInput",e):t.$broadcast("angucomplete-alt:clearInput")}function a(e,t){for(var n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),l=0,i=n.length;l<i;++l){var o=n[l];if(!(o in e))return;e=e[o]}return e}var c=this;t.loadMore=!1,c.limit=c.limit||10,c.displayField=c.displayField||"name",c.idField=c.idField||"id.entityId",c.minLength=c.minLength||0,c.textSearching=c.textSearching||i.getSearchingText(),c.textNoResults=c.textNoResults||i.getNoResultsText(),t.textLoadMore=c.textLoadMore||i.getLoadMoreText(),c.disableInput=c.disableInput||!1,c.clearOnNoSelection=c.clearOnNoSelection||!1,c.returnObject=c.returnObject||!1,c.listClass=c.listClass||"form-control",c.model&&c.findById&&c.findById({id:c.model}).then(function(e){c.initialDisplay=e[c.displayField]}),c.cache={},c.search=function(l){l=l.toLowerCase().replace(/[-[\]{}()*+?.,\\/^$|#\s]/g,"\\$&");var i=0;c.exclusionList&&(i=c.exclusionList.length);var o=0===i;return(o&&l in c.cache?n.resolve(c.cache[l]):c.onSearch({skip:0,limit:c.limit+1+i,term:l})).then(function(n){return o&&(c.cache[l]=angular.copy(n)),i>0&&(n=e("without")(n,c.exclusionList)),n.length>c.limit?(t.loadMore=!0,n.length=c.limit):t.loadMore=!1,n})},c.onSelect=function(e){e?(c.returnObject?c.model=e.originalObject:c.model=a(e.originalObject,c.idField),c.onSelected&&l(c.onSelected,0)):c.clearOnNoSelection&&(c.model=void 0)},c.onChange=function(e){e||(c.model=void 0)},c.onFocusOut=function(){c.clearOnNoSelection&&!c.model&&o()},t.$on("ck-autocomplete:clearInput",function(e,t){o(t),c.cache={}})}angular.module("ck-autocomplete",["angucomplete-alt"]).config(function(e){e.preAssignBindingsEnabled(!0)}).component("ckAutocomplete",{templateUrl:"autocomplete.tpl.html",controller:e,bindings:{model:"=",onSearch:"&",onSelected:"&",limit:"@",findById:"&?",displayField:"@",idField:"@",returnObject:"=?",placeholder:"@",minLength:"@",textSearching:"@",textNoResults:"@",textLoadMore:"@",clearOnNoSelection:"=?",clearSelected:"@",disableInput:"=?",exclusionList:"=",listClass:"@",elementId:"@"}}),e.$inject=["$filter","$scope","$q","$timeout","ckAutocompleteConfig"]}(),function(){"use strict";angular.module("ck-autocomplete").factory("ckAutocompleteConfig",function(){var e="Searching...",t="No results",n="Too many results. Please narrow search";return{setSearchingText:function(t){e=t},setNoResultsText:function(e){t=e},setLoadMoreText:function(e){n=e},getSearchingText:function(){return e},getNoResultsText:function(){return t},getLoadMoreText:function(){return n}}})}(),angular.module("ck-autocomplete").run(["$templateCache",function(e){e.put("autocomplete.list.tpl.html",'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}">\n    <input id="{{id}}_value" name="{{inputName}}" tabindex="{{fieldTabindex}}"\n           ng-class="{\'angucomplete-input-not-empty\': notEmpty}" ng-model="searchStr" ng-disabled="disableInput"\n           type="{{inputType}}" placeholder="{{placeholder}}" maxlength="{{maxlength}}" ng-focus="onFocusHandler()"\n           class="{{inputClass}}" ng-focus="resetHideResults()" ng-blur="hideResults($event)" autocapitalize="off"\n           autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"/>\n\n    <div id="{{id}}_dropdown" class="angucomplete-dropdown" ng-show="showDropdown">\n\n        <div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div>\n        <div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)"\n             ng-bind="textNoResults"></div>\n\n             <div class="angucomplete-loadmore" ng-if="!searching && $parent.loadMore" ng-bind="$parent.textLoadMore">\n            </div>\n\n            <div class="angucomplete-loadmore" ng-if="!searching && $parent.loadMore" >\n                {{ $parent.textLoadMore}}\n            </div>\n\n        <div class="angucomplete-row" ng-repeat="result in results" ng-click="selectResult(result)"\n             ng-mouseenter="hoverRow($index)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}">\n\n            <div ng-if="imageField" class="angucomplete-image-holder">\n                <img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="angucomplete-image"/>\n                <div ng-if="!result.image && result.image != \'\'" class="angucomplete-image-default"></div>\n            </div>\n\n            <div class="angucomplete-title" ng-if="matchClass" ng-bind-html="result.title"></div>\n            <div class="angucomplete-title" ng-if="!matchClass">{{ result.title }}</div>\n\n            <div ng-if="matchClass && result.description && result.description != \'\'" class="angucomplete-description"\n                 ng-bind-html="result.description"></div>\n            <div ng-if="!matchClass && result.description && result.description != \'\'" class="angucomplete-description">\n                {{result.description}}\n            </div>\n\n        </div>\n    </div>\n</div>')}]),angular.module("ck-autocomplete").run(["$templateCache",function(e){e.put("autocomplete.tpl.html",'<span class="autocomplete" angucomplete-alt\n    ng-attr-id="{{ $ctrl.elementId || undefined }}"\n    placeholder="{{ $ctrl.placeholder }}"\n    minlength="{{ $ctrl.minLength }}"\n    text-searching="{{ $ctrl.textSearching }}"\n    text-no-results="{{ $ctrl.textNoResults }}"\n    template-url="autocomplete.list.tpl.html"\n\n    remote-api-handler="$ctrl.search"\n    title-field="{{ $ctrl.displayField }}"\n    initial-value="$ctrl.initialDisplay"\n\n    input-class="{{$ctrl.listClass}}"\n    match-class="highlight"\n    disable-input="$ctrl.disableInput"\n\n    selected-object="$ctrl.onSelect"\n    input-changed="$ctrl.onChange"\n    clear-selected="{{ $ctrl.clearSelected }}"\n\n    focus-out="$ctrl.onFocusOut()">\n</span>\n')}]),function(){"use strict";angular.module("ck-autocomplete").filter("without",function(){return function(e,t){var n=[];return t&&t.length>0?(angular.forEach(e,function(e){var l=!0;angular.forEach(t,function(t){(e===t||e.id&&t.id&&angular.equals(e.id,t.id))&&(l=!1)}),l&&n.push(e)}),n):e}})}();